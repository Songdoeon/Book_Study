## 🌈 Chapter 10 : 알림 시스템 설계

<details><summary>정리</summary>

  ```

  ```

</details>

알림 시스템은 최근 많은 프로그램이 채택한 인기 있는 기능이다.

이 기능을 갖춘 애플리케이션은 최신 뉴스, 제품 업데이트, 이벤트, 선물 등 고객에게 중요할 만한 정보를 비동기적으로 제공한다.

알림 시스템은 단순 모바일 푸시 알림에 한정 되지 않는다. SMS 메시지, 이메일도 알림 시스템으로 분류할 수 있다.

## 📚 1단계 : 문제 이해 및 설계 범위 확정
---
하루 백만 건 이상의 알림을 처리하는 확장성 높은 시스템을 구축하는게 쉬운 과제는 아니다.

알림 시스템이 어떻게 구현되는지에 대한 깊은 이해가 필요한 작업이다.

> 지원자: 이 시스템은 어떤 종류의 알림을 지원해야 하나요?
> 
> 면접관: 푸시 알림, SMS 메시지 그리고 이메일입니다.
> 
> 지원자: 실시간 시스템이어야 하나요?
> 
> 면접관: 연성 실시간(soft real-time) 시스템이라고 가정합니다. 알림은 가능한 빨리 전달되어야 하지만 시스템에 높은 부하가 있다면 약간의 지연은 무방합니다.
> 
> 지원자: 어떤 종류의 단말을 지원해야 하나요?
> 
> 면접관: iOS, 안드로이드, 그리고 랩탑, 데스크탑 입니다.
> 
> 지원자: 사용자에게 보낼 알림은 누가 만들 수 있나요?
> 
> 면접관: 클라이언트 애플리케이션 프로그램이 만들 수도 있구요, 서버측에서 스케줄링 할 수도 있습니다.
> 
> 지원자: 사용자가 알림을 받지 않도록 설정할 수도 있어야 하나요?
> 
> 면접관: 네 해당 설정을 마친 사용자는 더 이상 알림을 받지 않습니다.
>
> 지원자: 하루에 몇건의 알림을 보낼 수 있어야 하나요?
>
> 면접관: 천만 건의 모바일 푸시 알림, 백만 건의 SMS 메시지, 5백만 건의 이메일을 보낼 수 있어야 합니다.
> 

## 📚 2단계 : 개략적 설계안 제시 및 동의 구하기
---

iOS, 안드로이드 푸시알림, SMS 메시지 그리고 이메일을 지원하는 알림 시스템의 개략적 설계안을 살펴보자.

다음과 같은 내용들이 있다.
- 알림 유형별 지원 방안
- 연락처 정보 수집 절차
- 알림 전송 및 수신 절차

### 🎈 알림 유형별 지원 방안
우선 각각의 알림 메커니즘이 어떻게 동작하는지 알아보자.

#### 📕 iOS 푸시 알림
iOS에서 푸시 알림을 보내는 순서이다.

알림 제공자 → APNS → iOS 단말

- 알림 제공자(provider)
  - 알림 요청을 만들어 애플 푸시 알림 서비스로 보내는 주체다.
  - 알림 요청에는 다음과 같은 데이터가 필요하다
    - 단말 토큰(device token) : 알람 요청을 보내는 데  필요한 고유 식별자다.
    - 페이로드(payload) : 알림 내용을 담은 JSON 딕셔너리다.
- 애플 푸시 알림 서비스(APNS)
  - 애플이 제공하는 원격 서비스다.
  - 푸시 알림을 iOS 장치로 보내는 역할을 담당한다.
- IOS 단말기(device)
  - 푸시 알림을 수신하는 사용자 단말이다.
 
#### 📕 안드로이드 푸시 알림
  
